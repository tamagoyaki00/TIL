## 2025-09-25学習記録
学習時間3.9時間（総合学習時間966.2）

TO DO
- [x] 使い方ページを作成
- [x] diary_streakメソッドの修正
- [ ] TOPページの修正途中

## 学び
2日前のTILでも書きましたが日記の継続日数を計算するdiary_streakメソッドが変だなとおもったので修正しました。
修正版
```
  def diary_streak
    dates = diaries.order(posted_date: :desc).pluck(:posted_date)
    return 0 if dates.empty?

    count = 1
    previous_date = dates.first

    dates.drop(1).each do |date|
      if previous_date - date == 1
        count += 1
        previous_date = date
      else
        break
      end
    end

    count
  end
 ```

考え方として、日記のデータを配列にいれる。そのデータがなければ0を返す。
日記の最新の日付をprevious_dateとする。
dates.drop(1)というのは最初の1つの要素を除いた（捨てた）新しい配列を返すものです。
これを入れないと、9月25日に日記を投稿すると、previous_date = 9月25日, date= 9月25日となり、メソッドが成り立たない為、最初の要素は捨て、それ以外をeachで回す。
例：dates = [9月25日, 9月24日, 9月23日]
9月25日(previous_date) - 9月24日 は1なので、countは2になります。previous_dateは9月24日に更新され繰り返され9月23日と比較し、1になるのでcountが3になる。

これでだいぶわかりやすいメソッドなりました！

### TOPページ

現状のTOPページは、タイトル＋サブタイトルと新規登録・ログインボタンしかないため
もっと、TOPページをみたときにどんなアプリなのか、どのような特徴があるのかをわかるようにしたいなぁと思いました。
TOPページって一番に目に入るところでそこからユーザーが利用する・しないがわかれるので、大事にしたいですね。
