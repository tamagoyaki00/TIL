## 2025-09-08学習記録
学習時間6.8時間（総合学習時間919.3）

TO DO
- [x] タグ機能
- [x] タグ検索機能
- [ ] オートコンプリート機能途中
- [x] イベント参加


## 学び
今まで、内容が増えたときにcreate_diaryやupdate_diary(diary)ににその内容を追加していたのですが、単一責任の原則から、タグの内容は別メソッドにしたほうがいいと思い、`create_tags(diary)` `update_tags(diary)` を追加

単一責任の原則とは？
https://zenn.dev/ikepon/articles/single_responsibility_principle

Ransackのバージョン4.0.0以降、この「明示的な許可リスト」が必須となりました。
https://activerecord-hackery.github.io/ransack/going-further/other-notes/#authorization-allowlistingdenylisting
- **`ransackable_attributes`**: 検索可能なカラム名を文字列の配列で指定します。
- **`ransackable_associations`**: 検索可能な関連付け名を文字列の配列で指定します。
- **`ransortable_attributes`**: ソート可能なカラム名を文字列の配列で指定します。
- **`ransackable_scopes`**: 検索可能なスコープをシンボルの配列で指定します。
これらを設定することでユーザーの、意図しないデータへのアクセスや検索を防ぎます。

```
  def self.ransackable_attributes(auth_object = nil)
    []
  end

  def self.ransackable_associations(auth_object = nil)
    %w[diary_contents tags]
  end
  ```

このように、指定するカラムなどがない場合は、明示的に空にする。

