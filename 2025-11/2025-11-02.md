## 2025-11-02学習記録

TODO
- [x] 振り返り機能を実装


振り返り機能として、monthly_reviewsテーブルを作成。最大幸せ数の日記として以下のように設定
```
t.references :max_happiness_diary, foreign_key: { to_table: :diaries }
``

いつも外部キーを持たせるときは`t.references :diary`など外部キーをそのまま使っていたのですが、今回はdiaryとするより最大幸せ数の日記とわかりやすいように上記のように設定しました。そのため`to_table: :diaries`とdiariesテーブルが外部キーということを明示。こういう外部キーの設定の仕方もあるんだと学び。

モデルには
```
belongs_to :max_happiness_diary, class_name: "Diary", optional: true
```

optional: trueはnilを許可するということです。

明日はUIをもうすこしリッチにしていきます！