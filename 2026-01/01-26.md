## データベース接続の仕組み

イメージ画像わかりやすいものがあったので以下参照
https://qiita.com/thirai67/items/df820b6d580f0223161b

RailsのようにモデルがDBの窓口になるのではなく、JDBC（Java DataBase Connectivity）がJavaのDBの窓口

Springを使っているのであれば**Spring JDBC Template**や**Spring Data JPA（Hibernate）**などJDBCをより便利にしたものが用意されているので、そちらを使うことが多い。

### Spring Data JPAの設定

https://spring.pleiades.io/spring-data/jpa/reference/jpa.html

プロジェクト作成時ににSpring Data JPAをチェック入れる。

application/properties

```ruby
spring.datasource.url=jdbc:mysql://localhost/db_sample
spring.datasource.username=username
spring.datasource.password=password
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
```

### **◆spring.datasource.url**

接続URLを指定

### **◆spring.datasource.username**

MySQLで設定したユーザー名を指定

### **◆spring.datasource.password**

MySQLで設定したパスワードを指定

### **◆spring.datasource.driver-class-name**

JDBC ドライバのクラス名を指定する必要があり、

MySQLでは、com.mysql.cj.jdbc.Driverを指定する。

prom.xmlに以下があることを確認。ない場合は追加

（プロジェクト作成時ににSpring Data JPAをチェックをいれていたら自動で追加されている）

```ruby
		<dependency>
		    <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-data-jpa</artifactId>
		</dependency>
```

Railsのようにテーブル名は複数形という命名規則はない。Javaは自由

```ruby
import jakarta.persistence.Entity;
import jakarta.persistence.Id;
import jakarta.persistence.Table;

import lombok.Data;

@Entity
@Table(name  = "user_info") //どのテーブルかを明示
@Data

public class UserInfo {
	@Id　// primaryキーの場合は必要
	private String loginId;
	private String password;

}
```

※メンバ変数とカラム名が違うときは`@Column`を付ける。

しかしSpringBoot2以降はJavaのキャメルケースはDBのスネークケースに自動変換される設定があるので

`private String loginId;`は
`login_id`として扱われる

今回動画を見ながら、実装はしてみたものの理解があまりできていないので、明日は公式ドキュメントなどみて、理解を深めよう。明日は復習！