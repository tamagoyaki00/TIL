## 2025-07-04学習記録
学習時間時間9時間（総合学習時間562.9時間）

TODO
  - []  ユーザーが設定した時間に通知をおくる
  
## 学び
昨日に引き続きユーザーが設定した時間に通知を送る機能の実装中・・・。
API接続はできているのに、ログをみるとExternalIDがなく送る対象がいませんとでてくる。
いやでも昨日、ExternalID紐づけできたしなぁ・・・タグにもExternalID１って書いてあるし、
と思っていたのですが、これが間違いでした。
もうわからずOnesignalサポートチャットみたいな便利なものがあったのでAIに翻訳させて送りました。
そしたら原因はこれ！タグExternalID１はあくまでタグで。ExternalIDの紐づけは別みたい。
ExternalIDの紐づけは```OneSignal.login(external_id)```これを使ってねとのこと。
私が使っていたのは``OneSignal.User.addTag``。最初から違ったんかい！って感じなんですけど。言われた通り```OneSignal.login(external_id)```をつかったら通知を許可にするにしても、Onesignalのほうに反映されないんですねぇ。なぜでしょう？タグをつかってもAPI送信できそうだったのでも、もういいかとおもいタグで実装！
無事！！意図していたメッセージを送ることに成功！！
あとはやったことあるwhenever実装するだけ！と思いきや・・・
wheneverもいろいろあるんですね。あれは課題だったから環境整えられていただけで、
cronをインストールしないといけなかったり、bin/docker-entrypointといものがあり、設定しておいたほうがよかったり。
wheneverの設定は明日します！！！
今日もエラーを繰り返しながら一歩進めたので良し！

